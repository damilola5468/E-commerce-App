{"ast":null,"code":"import axios from 'axios';\nvar BASE_URL = 'http://localhost:5000';\nexport function getProducts() {\n  return axios.get(\"\".concat(BASE_URL, \"/api/products\")).then(function (response) {\n    return response.data;\n  });\n}\nexport function getCartProducts(cart) {\n  return axios.post(\"\".concat(BASE_URL, \"/api/products\"), {\n    cart: cart\n  }).then(function (response) {\n    return response.data;\n  });\n}\nexport function login(data) {\n  return axios.post(\"\".concat(BASE_URL, \"/api/auth\"), {\n    name: data.name,\n    password: data.password\n  }).then(function (response) {\n    localStorage.setItem('x-access-token', response.data.token);\n    localStorage.setItem('x-access-token-expiration', Date.now() + 2 * 60 * 60 * 1000);\n    return response.data;\n  }).catch(function (err) {\n    return Promise.reject('Authentication Failed!');\n  });\n}\nexport function isAuthenticated() {\n  return localStorage.getItem('x-access-token') && localStorage.getItem('x-access-token-expiration') > Date.now();\n}","map":{"version":3,"sources":["c:/Users/LAB/Desktop/react-express-shopping-cart-master/src/repository.js"],"names":["axios","BASE_URL","getProducts","get","then","response","data","getCartProducts","cart","post","login","name","password","localStorage","setItem","token","Date","now","catch","err","Promise","reject","isAuthenticated","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,QAAQ,GAAG,uBAAjB;AAEA,OAAO,SAASC,WAAT,GAAuB;AAC7B,SAAOF,KAAK,CAACG,GAAN,WAAaF,QAAb,oBACLG,IADK,CACA,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAb;AAAA,GADR,CAAP;AAEA;AAED,OAAO,SAASC,eAAT,CAAyBC,IAAzB,EAA+B;AACrC,SAAOR,KAAK,CAACS,IAAN,WAAcR,QAAd,oBAAuC;AAACO,IAAAA,IAAI,EAAJA;AAAD,GAAvC,EACLJ,IADK,CACA,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAb;AAAA,GADR,CAAP;AAEA;AAED,OAAO,SAASI,KAAT,CAAgBJ,IAAhB,EAAsB;AAC5B,SAAON,KAAK,CAACS,IAAN,WAAcR,QAAd,gBAAmC;AAAEU,IAAAA,IAAI,EAAEL,IAAI,CAACK,IAAb;AAAmBC,IAAAA,QAAQ,EAAEN,IAAI,CAACM;AAAlC,GAAnC,EACLR,IADK,CACA,UAAAC,QAAQ,EAAI;AACjBQ,IAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuCT,QAAQ,CAACC,IAAT,CAAcS,KAArD;AACAF,IAAAA,YAAY,CAACC,OAAb,CAAqB,2BAArB,EAAkDE,IAAI,CAACC,GAAL,KAAa,IAAI,EAAJ,GAAS,EAAT,GAAc,IAA7E;AACA,WAAOZ,QAAQ,CAACC,IAAhB;AACA,GALK,EAMLY,KANK,CAMC,UAAAC,GAAG;AAAA,WAAIC,OAAO,CAACC,MAAR,CAAe,wBAAf,CAAJ;AAAA,GANJ,CAAP;AAOA;AAED,OAAO,SAASC,eAAT,GAA0B;AAChC,SAAOT,YAAY,CAACU,OAAb,CAAqB,gBAArB,KAA0CV,YAAY,CAACU,OAAb,CAAqB,2BAArB,IAAoDP,IAAI,CAACC,GAAL,EAArG;AACA","sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'http://localhost:5000';\n\nexport function getProducts() {\n\treturn axios.get(`${BASE_URL}/api/products`)\n\t\t.then(response => response.data);\n}\n\nexport function getCartProducts(cart) {\n\treturn axios.post(`${BASE_URL}/api/products`, {cart})\n\t\t.then(response => response.data);\n}\n\nexport function login (data) {\n\treturn axios.post(`${BASE_URL}/api/auth`, { name: data.name, password: data.password })\n\t\t.then(response => {\n\t\t\tlocalStorage.setItem('x-access-token', response.data.token);\n\t\t\tlocalStorage.setItem('x-access-token-expiration', Date.now() + 2 * 60 * 60 * 1000);\n\t\t\treturn response.data\n\t\t})\n\t\t.catch(err => Promise.reject('Authentication Failed!'));\n}\n\nexport function isAuthenticated(){\n\treturn localStorage.getItem('x-access-token') && localStorage.getItem('x-access-token-expiration') > Date.now()\n}\n"]},"metadata":{},"sourceType":"module"}