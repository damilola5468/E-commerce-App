{"ast":null,"code":"import axios from \"axios\";\nvar BASE_URL = \"http://localhost:7000\";\nexport function getProducts() {\n  return axios.get(\"\".concat(BASE_URL, \"/Products\")).then(function (response) {\n    return response.data;\n  });\n}\nexport function getCartProducts(cart) {\n  return axios.post(\"\".concat(BASE_URL, \"/api/products\"), {\n    cart: cart\n  }).then(function (response) {\n    return response.data;\n  });\n}\nexport function login(data) {\n  return axios.post(\"\".concat(BASE_URL, \"/api/auth\"), {\n    name: data.name,\n    password: data.password\n  }).then(function (response) {\n    localStorage.setItem(\"x-access-token\", response.data.token);\n    localStorage.setItem(\"x-access-token-expiration\", Date.now() + 2 * 60 * 60 * 1000);\n    return response.data;\n  }).catch(function (err) {\n    return Promise.reject(\"Authentication Failed!\");\n  });\n}\nexport function isAuthenticated() {\n  return localStorage.getItem(\"x-access-token\") && localStorage.getItem(\"x-access-token-expiration\") > Date.now();\n}","map":{"version":3,"sources":["c:/Users/LAB/Desktop/e-commerce/src/repository.js"],"names":["axios","BASE_URL","getProducts","get","then","response","data","getCartProducts","cart","post","login","name","password","localStorage","setItem","token","Date","now","catch","err","Promise","reject","isAuthenticated","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,QAAQ,GAAG,uBAAjB;AAEA,OAAO,SAASC,WAAT,GAAuB;AAC5B,SAAOF,KAAK,CAACG,GAAN,WAAaF,QAAb,gBAAkCG,IAAlC,CAAuC,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAb;AAAA,GAA/C,CAAP;AACD;AAED,OAAO,SAASC,eAAT,CAAyBC,IAAzB,EAA+B;AACpC,SAAOR,KAAK,CACTS,IADI,WACIR,QADJ,oBAC6B;AAAEO,IAAAA,IAAI,EAAJA;AAAF,GAD7B,EAEJJ,IAFI,CAEC,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAb;AAAA,GAFT,CAAP;AAGD;AAED,OAAO,SAASI,KAAT,CAAeJ,IAAf,EAAqB;AAC1B,SAAON,KAAK,CACTS,IADI,WACIR,QADJ,gBACyB;AAAEU,IAAAA,IAAI,EAAEL,IAAI,CAACK,IAAb;AAAmBC,IAAAA,QAAQ,EAAEN,IAAI,CAACM;AAAlC,GADzB,EAEJR,IAFI,CAEC,UAAAC,QAAQ,EAAI;AAChBQ,IAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuCT,QAAQ,CAACC,IAAT,CAAcS,KAArD;AACAF,IAAAA,YAAY,CAACC,OAAb,CACE,2BADF,EAEEE,IAAI,CAACC,GAAL,KAAa,IAAI,EAAJ,GAAS,EAAT,GAAc,IAF7B;AAIA,WAAOZ,QAAQ,CAACC,IAAhB;AACD,GATI,EAUJY,KAVI,CAUE,UAAAC,GAAG;AAAA,WAAIC,OAAO,CAACC,MAAR,CAAe,wBAAf,CAAJ;AAAA,GAVL,CAAP;AAWD;AAED,OAAO,SAASC,eAAT,GAA2B;AAChC,SACET,YAAY,CAACU,OAAb,CAAqB,gBAArB,KACAV,YAAY,CAACU,OAAb,CAAqB,2BAArB,IAAoDP,IAAI,CAACC,GAAL,EAFtD;AAID","sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"http://localhost:7000\";\n\nexport function getProducts() {\n  return axios.get(`${BASE_URL}/Products`).then(response => response.data);\n}\n\nexport function getCartProducts(cart) {\n  return axios\n    .post(`${BASE_URL}/api/products`, { cart })\n    .then(response => response.data);\n}\n\nexport function login(data) {\n  return axios\n    .post(`${BASE_URL}/api/auth`, { name: data.name, password: data.password })\n    .then(response => {\n      localStorage.setItem(\"x-access-token\", response.data.token);\n      localStorage.setItem(\n        \"x-access-token-expiration\",\n        Date.now() + 2 * 60 * 60 * 1000\n      );\n      return response.data;\n    })\n    .catch(err => Promise.reject(\"Authentication Failed!\"));\n}\n\nexport function isAuthenticated() {\n  return (\n    localStorage.getItem(\"x-access-token\") &&\n    localStorage.getItem(\"x-access-token-expiration\") > Date.now()\n  );\n}\n"]},"metadata":{},"sourceType":"module"}