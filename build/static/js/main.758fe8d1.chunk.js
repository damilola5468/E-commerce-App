(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){},40:function(e,t,a){e.exports=a.p+"static/media/cer.3f5fffa6.jpg"},56:function(e,t,a){e.exports=a(90)},86:function(e,t,a){e.exports=a.p+"static/media/marketplace.4e32f001.jpg"},87:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(30),c=a.n(r),o=a(7),s=a(8),m=a(10),i=a(9),u=a(11),d=a(25),h=a(23),p=a(37),E=a.n(p),b="http://localhost:5000";function f(e){return E.a.post("".concat(b,"/api/products"),{cart:e}).then(function(e){return e.data})}function g(){return localStorage.getItem("x-access-token")&&localStorage.getItem("x-access-token-expiration")>Date.now()}var v=a(16),k=a.n(v),y=(a(28),a(6)),x=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(i.a)(t).call(this))).state={name:"",password:""},e.handleInputChange=e.handleInputChange.bind(Object(h.a)(Object(h.a)(e))),e.submitLogin=e.submitLogin.bind(Object(h.a)(Object(h.a)(e))),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"submitLogin",value:function(e){var t;e.preventDefault(),(t=this.state,E.a.post("".concat(b,"/api/auth"),{name:t.name,password:t.password}).then(function(e){return localStorage.setItem("x-access-token",e.data.token),localStorage.setItem("x-access-token-expiration",Date.now()+72e5),e.data}).catch(function(e){return Promise.reject("Authentication Failed!")})).then(function(e){return window.location="/market"}).catch(function(e){return k()(e,"Error Occured","error")})}},{key:"render",value:function(){return l.a.createElement("div",{className:"container mt-5 mb-5"},l.a.createElement("h5",{style:N,className:"ml-4"},"Login \xa0 ",l.a.createElement(y.h,null)),l.a.createElement("hr",null),l.a.createElement("div",{className:"col-sm-8 col-sm-offset-2"},l.a.createElement("div",{className:"panel panel-primary"},l.a.createElement("div",{className:"panel-heading"}),l.a.createElement("div",{className:"panel-body"},l.a.createElement("form",{onSubmit:this.submitLogin},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("h5",null,"Name:")),l.a.createElement("input",{type:"text",className:"form-control",name:"name",onChange:this.handleInputChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("h5",null,"Password:")),l.a.createElement("input",{type:"password",className:"form-control",name:"password",onChange:this.handleInputChange})),l.a.createElement("button",{type:"submit",className:"btn btn-sm btn-outline-success"},l.a.createElement("b",{class:""},"Login")),l.a.createElement("button",{type:"submit",className:"btn ml-3 btn-sm btn-outline-primary"},l.a.createElement("b",{class:""},"Signup")))))))}}]),t}(l.a.Component),N={fontSize:"20px"},O=a(102),j=a(40),C=a.n(j),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).handleInputChange=function(e){return a.setState(Object(d.a)({},e.target.name,e.target.value))},a.addToCart=function(){var e=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):{},t=a.props.product.id.toString();e[t]=e[t]?e[t]:0;var n=e[t]+parseInt(a.state.quantity);a.props.product.available_quantity<n?k()("Not Enough Item","We Don't Have Enough Of this Product Available!!","error"):(e[t]=n,k()("Added To Cart!","Prooduct Added To Cart!","success")),localStorage.setItem("cart",JSON.stringify(e))},a.state={quantity:1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.product;return l.a.createElement("div",{className:"col-md-3 mb-5"},l.a.createElement(O.a,null,l.a.createElement(O.a.Header,{style:I},l.a.createElement("h4",{class:"text-center"}," ",l.a.createElement("img",{className:"image-responsive hov ",style:w,src:C.a,alt:"Third slide"}))),l.a.createElement(O.a.Body,null,l.a.createElement("h4",{class:"text-dark text-center"},e.name),l.a.createElement("hr",null),l.a.createElement("h5",{class:"text-dark text-center"},"AgricPort Limited"),l.a.createElement("hr",null),l.a.createElement("h5",{class:"text-dark text-center "},e.available_quantity>0?l.a.createElement("div",null,l.a.createElement("input",{type:"number",value:this.state.quantity,name:"quantity",onChange:this.handleInputChange,className:"float-right form-control",style:{fontWeight:"bold",width:"60px",height:"30px",marginRight:"0px",borderRadius:"3px",marginTop:"7px"}})):l.a.createElement("p",{className:"text-danger"}," Product is out of stock ")),l.a.createElement("hr",null),l.a.createElement("h5",{class:"text-dark text-center"}," ",l.a.createElement("span",{class:"badge badge-primary"}," ",e.available_quantity)," ","Item Available"),l.a.createElement("hr",null),l.a.createElement("h5",{class:"text-dark text-center"},"\u20a6",e.price),l.a.createElement("hr",null),l.a.createElement("h4",{class:"text-dark text-center"},l.a.createElement("button",{className:"btn btn-outline-info btn-sm",onClick:this.addToCart},l.a.createElement("b",{class:"text-center "},"Add To Cart"))))))}}]),t}(l.a.Component),w={width:"200px",height:"150px",marginTop:"9px",borderRadius:"5px"},I={backgroundColor:"#eef"},L=a(96),q=a(97),P=a(95),A=a(84),T=a(93),z=(a(103),a(39),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).state={products:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;E.a.get("".concat(b,"/api/products")).then(function(e){return e.data}).then(function(t){e.setState({products:t})})}},{key:"render",value:function(){var e=this.state.products;return l.a.createElement("div",{className:"container mt-5 "},l.a.createElement("div",{class:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(L.a,{collapseOnSelect:!0,className:" ",expand:"lg",style:W,variant:"dark"},l.a.createElement(L.a.Toggle,{"aria-controls":"responsive-navbar-nav",children:l.a.createElement("h1",{style:J},l.a.createElement(y.c,null)),style:B}),l.a.createElement(L.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(q.a,{className:"mr-5"},l.a.createElement(q.a.Link,{eventKey:2,href:"",style:R,className:"text-dark mt-4"},l.a.createElement("h6",null,"Fruits ",l.a.createElement(y.a,null)),l.a.createElement("hr",null)),l.a.createElement(q.a.Link,{href:"",style:R,className:"text-dark mt-4"},l.a.createElement("h6",null,"Vegetables ",l.a.createElement(y.j,null))," ",l.a.createElement("hr",null),"\xa0"),l.a.createElement(q.a.Link,{href:"",style:R,className:"text-dark mt-4"},l.a.createElement("h6",null,"Cereals ",l.a.createElement(y.m,null)),l.a.createElement("hr",null),"\xa0"),l.a.createElement(q.a.Link,{href:"",style:R,className:"text-dark mt-4"},l.a.createElement("h6",null,"Grains ",l.a.createElement(y.e,null)),l.a.createElement("hr",null),"\xa0"),l.a.createElement(q.a.Link,{href:"",style:R,className:"text-dark mt-4"},l.a.createElement("h6",null,"Beverages ",l.a.createElement(y.d,null)),l.a.createElement("hr",null),"\xa0"),l.a.createElement(q.a.Link,{href:"",style:R,className:"text-dark mt-4"},l.a.createElement("h6",null,"Services ",l.a.createElement(y.k,null)),l.a.createElement("hr",null),"\xa0"),l.a.createElement(q.a.Link,{href:"",className:"text-dark mt-4"},l.a.createElement(P.a.Group,{as:A.a,md:"12",controlId:"validationCustomUsername",className:"ml-5"},l.a.createElement(T.a,null,l.a.createElement(T.a.Prepend,null,l.a.createElement(T.a.Text,{id:"inputGroupPrepend"},l.a.createElement(y.i,null))),l.a.createElement(P.a.Control,{type:"text",placeholder:"Product Name","aria-describedby":"inputGroupPrepend",required:!0})))))))),l.a.createElement("div",{className:"col-md-12 mt-4"},l.a.createElement("div",{class:"row"},e.map(function(e,t){return l.a.createElement(S,{product:e,key:t})})),l.a.createElement("hr",null))))}}]),t}(l.a.Component)),B={backgroundColor:"#eef"};var R={paddingLeft:"15px"},W=(B={color:"black",fontSize:"9px",padding:"10px"},{backgroundColor:"#eef"}),J={fontSize:"20px"},D=a(94),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).state={quantity:1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.product;return l.a.createElement("div",{className:"card",style:{marginBottom:"10px"}},l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},t.name),l.a.createElement("h6",{className:"card-text",style:G},"price: \u20a6",t.price),l.a.createElement("h5",{className:"card-text",style:G},l.a.createElement("span",{className:"card-text text-primary fv"},"Quantity:",l.a.createElement("span",{class:"badge badge-primary"},t.qty))),l.a.createElement("button",{className:"btn btn-sm btn-outline-danger float-right ",onClick:function(){return e.props.remove(t)}},l.a.createElement("b",null,"Remove"))))}}]),t}(l.a.Component),G={fontSize:"12px"},K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).removeFromCart=function(e){k()("Are You sure you want to remove product?",{buttons:Object(d.a)({cancel:"default",ok:{text:"Remove",value:"ok"}},"cancel",!0)}).then(function(t){switch(t){case"ok":var n=a.state.products.filter(function(t){return t.id!==e.id}),l=JSON.parse(localStorage.getItem("cart"));delete l[e.id.toString()],localStorage.setItem("cart",JSON.stringify(l));var r=a.state.total-e.qty*e.price;a.setState({products:n,total:r}),k()("Product has been removed!");break;default:k()("Your Products Are Safe!!","","success")}})},a.clearCart=function(){localStorage.removeItem("cart"),a.setState({products:[]}),k()("Your Cart Has Been Cleared!!!","","success")},a.state={products:[],total:0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=localStorage.getItem("cart");console.log(t),t&&f(t).then(function(t){for(var a=0,n=0;n<t.length;n++)a+=t[n].price*t[n].qty;e.setState({products:t,total:a})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.products,n=t.total;return l.a.createElement("div",{class:"container mt-5 "},l.a.createElement("h5",{style:M},"Cart ",l.a.createElement(y.f,null)),l.a.createElement("hr",null),a.map(function(t,a){return l.a.createElement(F,{product:t,remove:e.removeFromCart,key:a})}),a.length?l.a.createElement("div",null,l.a.createElement("h5",{class:"text-dark"},"Total Amount:",l.a.createElement("span",{className:"float-right text-dark"},"\u20a6",n)),l.a.createElement("hr",null)):"",a.length?"":l.a.createElement("h3",{className:"text-dark"},"No item on the cart!!!"),l.a.createElement(D.a,{to:"/checkout"},l.a.createElement("button",{className:"btn btn-sm btn-outline-success float-right"},l.a.createElement("b",null,"Checkout"))),l.a.createElement("button",{className:"btn btn-outline-danger btn-sm float-left",onClick:this.clearCart,style:{marginRight:"10px"}},l.a.createElement("b",null,"Clear Cart")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null))}}]),t}(l.a.Component),M={fontSize:"20px"},H=(a(87),a(99)),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).state={products:[],total:0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=localStorage.getItem("cart");t&&f(t).then(function(t){for(var a=0,n=0;n<t.length;n++)a+=t[n].price*t[n].qty;e.setState({products:t,total:a})})}},{key:"render",value:function(){if(!g())return l.a.createElement(H.a,{to:"/login"});var e=this.state,t=e.products,a=e.total;return l.a.createElement("div",{className:" container mt-5"},l.a.createElement("h5",{style:_},"CheckOut ",l.a.createElement(y.g,null)),t.map(function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("p",null,e.name,l.a.createElement("br",null),l.a.createElement("span",{class:"badge badge-success"},l.a.createElement("small",null," quantity: ",e.qty),l.a.createElement("br",null)),l.a.createElement("span",{className:"float-right text-dark"},"\u20a6",e.qty*e.price)),l.a.createElement("hr",null))}),l.a.createElement("hr",null),t.length?l.a.createElement("div",null,l.a.createElement("h4",null,"Total Amount:",l.a.createElement("span",{className:"float-right text-dark"},"\u20a6",a)),l.a.createElement("hr",null)):"",t.length?"":l.a.createElement("h3",{className:"text-dark"},"No item on the cart"),t.length?l.a.createElement("button",{className:"btn btn-sm btn-outline-success float-right",onClick:function(){return k()("Proceed to Pay")}},l.a.createElement("b",null,"Pay")):"",l.a.createElement(D.a,{to:"/"},l.a.createElement("button",{className:"btn btn-outline-danger btn-sm float-right",style:{marginRight:"10px"}},l.a.createElement("b",null,"Cancel"))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null))}}]),t}(l.a.Component),_={fontSize:"20px"},Q=a(100),U=a(101),V=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"logOut",value:function(){localStorage.removeItem("x-access-token"),window.location="/"}},{key:"render",value:function(){var e=g();return l.a.createElement("div",{class:""},l.a.createElement(L.a,{collapseOnSelect:!0,className:"  ",expand:"lg",style:Z,variant:"dark"},l.a.createElement(D.a,{to:"/"},l.a.createElement(q.a,{className:"ml-5"},l.a.createElement("h6",{className:"link",style:te},l.a.createElement(y.j,null)))),l.a.createElement(L.a.Toggle,{"aria-controls":"responsive-navbar-nav",children:l.a.createElement("h1",{style:ee},l.a.createElement(y.c,null)),style:X}),l.a.createElement(L.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(q.a,{className:"mr-auto"}),l.a.createElement(q.a,{className:"mr-5"},l.a.createElement(q.a.Link,{eventKey:2,href:"/market",style:$,className:"text-dark mt-4"},l.a.createElement("h6",{className:"lin"},"Market ",l.a.createElement(y.l,null))),l.a.createElement(q.a.Link,{href:"/cart",style:$,className:"text-dark mt-4"},l.a.createElement("h6",{className:"lin"},"Cart ",l.a.createElement(y.f,null),"\xa0")),l.a.createElement(q.a.Link,{href:"/checkout",style:$,className:"text-dark mt-4"},l.a.createElement("h6",{className:"lin"},"Checkout ",l.a.createElement(y.b,null))," ","\xa0"),e?l.a.createElement(q.a.Link,{eventKey:2,onClick:this.logOut,style:$,className:"text-dark mt-4"},l.a.createElement("b",{className:"lin"},l.a.createElement("h6",null,"Logout"))):l.a.createElement(q.a.Link,{eventKey:2,href:"/login",style:$,className:"text-dark mt-4"},l.a.createElement("h6",{className:"lin"},"Login ",l.a.createElement(y.h,null))," ","\xa0")))))}}]),t}(n.Component),$={paddingLeft:"15px"},X={color:"black",fontSize:"9px",padding:"10px"},Z={backgroundColor:"#eef"},ee={fontSize:"20px"},te={fontSize:"30px"},ae=V,ne=a(98),le=a(86),re=a.n(le),ce=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(ne.a,{controls:!1},l.a.createElement(ne.a.Item,null,l.a.createElement("img",{className:"d-block w-100 image-responsive",style:oe,src:re.a,alt:"Third slide"}))))}}]),t}(n.Component),oe={position:"cover"},se=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(ce,null))}}]),t}(n.Component),me=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(L.a,{collapseOnSelect:!0,expand:"md w-100",style:ie,variant:"dark"},l.a.createElement("h6",{className:"p-2 mt-2"},"AgroBased Nigeria \xa9 2020")))}}]),t}(n.Component),ie={backgroundColor:"black",color:"white"},ue=me,de=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=g();return l.a.createElement(Q.a,null,l.a.createElement("div",{class:"App"},l.a.createElement(ae,null),l.a.createElement(U.a,{exact:!0,path:"/",component:se}),l.a.createElement(U.a,{exact:!0,path:"/market",component:z}),l.a.createElement(U.a,{exact:!0,path:"/cart",component:K}),l.a.createElement(U.a,{exact:!0,path:"/checkout",component:Y}),e?this.logOut:l.a.createElement(U.a,{exact:!0,path:"/login",component:x}),l.a.createElement(ue,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[56,2,1]]]);
//# sourceMappingURL=main.758fe8d1.chunk.js.map